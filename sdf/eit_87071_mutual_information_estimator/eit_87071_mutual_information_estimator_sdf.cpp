# include "netxpto_20180118.h"

# include "binary_source_20180118.h"
# include "sink_20180118.h"

int main(){

	// #####################################################################################################
	// ################################### System Input Parameters #########################################
	// #####################################################################################################



	// #####################################################################################################
	// ################################### Simulation Parameters ###########################################
	// #####################################################################################################

	int numberOfSamplesPerSymbol{ 16 };

	// #####################################################################################################
	// ########################### Signals Declaration and Inicialization ##################################
	// #####################################################################################################
	
	Binary S1{"S1.sgn"};
	
	// #####################################################################################################
	// ########################### Blocks Declaration and Inicialization ###################################
	// #####################################################################################################
	BinarySource B1{ vector<Signal*>{},vector<Signal*>{&S1} };
	B1.setMode(PseudoRandom);

	Sink B2{ vector<Signal*>{&S1}, vector<Signal*>{} };
	B2.setNumberOfSamples(1000);
	
	
	
	// #####################################################################################################
	// ########################### System Declaration and Inicialization ###################################
	// #####################################################################################################

	System MainSystem{ vector<Block*> { &B1, &B2} };

	// #####################################################################################################
	// #################################### System Run #####################################################
	// #####################################################################################################
	
	MainSystem.run();

	return 0;

}